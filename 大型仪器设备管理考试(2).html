<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â§ßÂûã‰ª™Âô®ËÆæÂ§áÂÖ±‰∫´ÂüπËÆ≠ÈÄöÂÖ≥Â∞èÊ∏∏Êàè</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            pointer-events: none;
            z-index: 1;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            position: relative;
            z-index: 2;
            backdrop-filter: blur(20px);
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 20"><polygon fill="rgba(255,255,255,0.1)" points="0,20 100,0 100,20"/></svg>');
            background-repeat: repeat-x;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 3;
        }

        .header h1::before {
            content: 'üìä ';
        }

        .header h1::after {
            content: ' üéØ';
        }

        .subtitle {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 20px;
            position: relative;
            z-index: 3;
        }

        .progress-container {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            position: relative;
            z-index: 3;
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.3);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #ff9a9e 0%, #fecfef 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .content {
            padding: 40px;
        }

        .user-info {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(240, 147, 251, 0.3);
        }

        .user-info h3 {
            margin-bottom: 25px;
            font-size: 22px;
            text-align: center;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            flex: 1;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .start-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .exam-section {
            display: none;
        }

        .question-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border: 1px solid #e9ecef;
            position: relative;
            overflow: hidden;
        }

        .question-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(180deg, #4facfe 0%, #00f2fe 100%);
        }

        .question-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-number {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
        }

        .question-text {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            flex: 1;
        }

        .question-type {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .options {
            margin-top: 20px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .option:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .option.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #4facfe;
            transform: translateX(5px);
        }

        .option.correct {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            color: white;
            border-color: #28a745;
        }

        .option.incorrect {
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
            color: white;
            border-color: #dc3545;
        }

        .option input {
            margin-right: 15px;
            transform: scale(1.2);
        }

        .control-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
            padding: 20px 0;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #333;
        }

        .btn-success {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .results-section {
            display: none;
            text-align: center;
            padding: 20px;
            max-height: 100vh;
            overflow-y: auto;
        }

        .results-container {
            display: flex;
            gap: 20px;
            align-items: flex-start;
            max-width: 100%;
            margin: 0 auto;
        }

        .left-panel {
            flex: 1;
            min-width: 300px;
        }

        .right-panel {
            flex: 1;
            min-width: 300px;
        }

        .user-info-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            text-align: left;
        }

        .user-info-card h3 {
            margin-bottom: 15px;
            font-size: 18px;
            text-align: center;
            color: white;
        }

        .user-info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 12px;
        }

        .user-info-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        .user-info-item .label {
            font-size: 11px;
            opacity: 0.8;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .user-info-item .value {
            font-size: 14px;
            font-weight: 600;
        }

        .exam-summary {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .exam-summary .summary-item {
            text-align: center;
            flex: 1;
        }

        .exam-summary .summary-item .summary-label {
            font-size: 11px;
            opacity: 0.8;
            margin-bottom: 4px;
        }

        .exam-summary .summary-item .summary-value {
            font-size: 13px;
            font-weight: 600;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: bold;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .score-excellent {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
        }

        .score-good {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .score-poor {
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
        }

        .results-text h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .results-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .result-item {
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .result-item .number {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .result-item .label {
            color: #666;
            font-size: 12px;
        }

        .restart-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .restart-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .timer {
            position: fixed;
            top: 30px;
            right: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 18px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            z-index: 1000;
            display: none;
        }

        .timer.warning {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            animation: pulse 1s infinite;
        }

        .timer.danger {
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
            animation: pulse 0.5s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .content {
                padding: 20px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 15px;
            }
            
            .control-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .timer {
                top: 15px;
                right: 15px;
                padding: 10px 15px;
                font-size: 16px;
            }

            .results-section {
                padding: 15px;
            }

            .results-container {
                flex-direction: column;
                gap: 15px;
            }

            .left-panel, .right-panel {
                min-width: auto;
            }

            .user-info-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .results-details {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
                padding: 15px;
            }

            .exam-summary {
                flex-direction: column;
                gap: 10px;
            }

            .score-circle {
                width: 100px;
                height: 100px;
                font-size: 24px;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="timer" id="timer">‚è∞ 30:00</div>
    
    <div class="container">
        <div class="header">
            <h1>Â§ßÂûã‰ª™Âô®ËÆæÂ§áÂÖ±‰∫´ÂüπËÆ≠ÈÄöÂÖ≥Â∞èÊ∏∏Êàè</h1>
            <p class="subtitle">Ë•øÂÆâ‰∫§ÈÄöÂ§ßÂ≠¶ÂÆûÈ™åÂÆ§ÁÆ°ÁêÜÂ§Ñ</p>
            <div class="progress-container" id="progressContainer" style="display: none;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span>ËÄÉËØïËøõÂ∫¶</span>
                    <span id="progressText">0/10</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
        </div>

        <div class="content">
            <!-- Áî®Êà∑‰ø°ÊÅØÂΩïÂÖ• -->
            <div id="userInfoSection" class="user-info">
                <h3>üéì ÂüπËÆ≠‰∫∫Âëò‰ø°ÊÅØÂΩïÂÖ•</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="studentName">ÂßìÂêç *</label>
                        <input type="text" id="studentName" placeholder="ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÂßìÂêç" required>
                    </div>
                    <div class="form-group">
                        <label for="studentId">Â≠¶Âè∑/Â∑•Âè∑ *</label>
                        <input type="text" id="studentId" placeholder="ËØ∑ËæìÂÖ•Â≠¶Âè∑ÊàñÂ∑•Âè∑" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="department">Èô¢Á≥ª/ÈÉ®Èó® *</label>
                        <input type="text" id="department" placeholder="ËØ∑ËæìÂÖ•Èô¢Á≥ªÊàñÈÉ®Èó®" required>
                    </div>
                    <div class="form-group">
                        <label for="examType">ËÄÉËØïÁ±ªÂûã</label>
                        <select id="examType">
                            <option value="Ê≠£ÂºèËÄÉËØï">Ê≠£ÂºèËÄÉËØï</option>
                            <option value="Ê®°ÊãüÁªÉ‰π†">Ê®°ÊãüÁªÉ‰π†</option>
                        </select>
                    </div>
                </div>
                <button class="start-btn" onclick="startExam()">
                    üöÄ ÂºÄÂßãÁ≠îÈ¢ò
                </button>
            </div>

            <!-- ËÄÉËØïÂå∫Âüü -->
            <div id="examSection" class="exam-section">
                <div id="questionsContainer"></div>
                
                <div class="control-buttons">
                    <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>
                        ‚¨ÖÔ∏è ‰∏ä‰∏ÄÈ¢ò
                    </button>
                    <div style="display: flex; gap: 15px;">
                        <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">
                            ‰∏ã‰∏ÄÈ¢ò ‚û°Ô∏è
                        </button>
                        <button class="btn btn-success" id="submitBtn" onclick="submitExam()" style="display: none;">
                            ‚úÖ Êèê‰∫§ËÄÉËØï
                        </button>
                    </div>
                </div>
            </div>

            <!-- ÁªìÊûúÂ±ïÁ§∫ -->
            <div id="resultsSection" class="results-section">
                <div class="results-container">
                    <!-- Â∑¶‰æßÈù¢ÊùøÔºö‰∫∫Âëò‰ø°ÊÅØ -->
                    <div class="left-panel">
                        <div class="user-info-card">
                            <h3>üéì ÂüπËÆ≠ÂÆåÊàê‰ø°ÊÅØ</h3>
                            <div class="user-info-grid">
                                <div class="user-info-item">
                                    <div class="label">ÂßìÂêç</div>
                                    <div class="value" id="resultName">-</div>
                                </div>
                                <div class="user-info-item">
                                    <div class="label">Â≠¶Âè∑/Â∑•Âè∑</div>
                                    <div class="value" id="resultStudentId">-</div>
                                </div>
                                <div class="user-info-item">
                                    <div class="label">Èô¢Á≥ª/ÈÉ®Èó®</div>
                                    <div class="value" id="resultDepartment">-</div>
                                </div>
                                <div class="user-info-item">
                                    <div class="label">ÂüπËÆ≠Á±ªÂûã</div>
                                    <div class="value" id="resultExamType">-</div>
                                </div>
                            </div>
                            <div class="exam-summary">
                                <div class="summary-item">
                                    <div class="summary-label">ÂüπËÆ≠Êó∂Èó¥</div>
                                    <div class="summary-value" id="resultDate">-</div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">Áî®Êó∂</div>
                                    <div class="summary-value" id="resultDuration">-</div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">Áä∂ÊÄÅ</div>
                                    <div class="summary-value" id="resultStatus">-</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Âè≥‰æßÈù¢ÊùøÔºöÊàêÁª©‰ø°ÊÅØ -->
                    <div class="right-panel">
                        <div id="scoreCircle" class="score-circle">
                            <span id="scoreText">0%</span>
                        </div>
                        <div class="results-text">
                            <h2 id="resultTitle">ÂüπËÆ≠ÂÆåÊàêÔºÅ</h2>
                            <p id="resultMessage"></p>
                        </div>
                        <div class="results-details">
                            <div class="result-item">
                                <div class="number" id="totalQuestions">10</div>
                                <div class="label">ÊÄªÈ¢òÊï∞</div>
                            </div>
                            <div class="result-item">
                                <div class="number" id="correctAnswers">0</div>
                                <div class="label">Ê≠£Á°ÆÁ≠îÊ°à</div>
                            </div>
                            <div class="result-item">
                                <div class="number" id="wrongAnswers">0</div>
                                <div class="label">ÈîôËØØÁ≠îÊ°à</div>
                            </div>
                            <div class="result-item">
                                <div class="number" id="finalScore">0%</div>
                                <div class="label">ÊúÄÁªàÂæóÂàÜ</div>
                            </div>
                        </div>
                        <button class="restart-btn" onclick="restartExam()">
                            üîÑ ÈáçÊñ∞ÂºÄÂßã
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ËÄÉËØïÈ¢òÁõÆÊï∞ÊçÆ
        const questions = [
            {
                id: 1,
                text: "ÊïôËÇ≤ÈÉ®ËßÑÂÆöÈÄöÁî®ËÆæÂ§áËææÊ†áÊú∫Êó∂‰∏∫Ôºü",
                type: "single",
                options: [
                    { label: "A", text: "1400Â∞èÊó∂", value: "A" },
                    { label: "B", text: "1600Â∞èÊó∂", value: "B" }
                ],
                correct: ["A"]
            },
            {
                id: 2,
                text: "ÊúâÊïàËøêË°åÊú∫Êó∂ÂåÖÂê´‰∏ãÂàóÂì™‰∏âÈÉ®ÂàÜÔºü",
                type: "multiple",
                options: [
                    { label: "A", text: "ÂºÄÊú∫ÂáÜÂ§áÊó∂Èó¥", value: "A" },
                    { label: "B", text: "ÊµãËØïÊó∂Èó¥", value: "B" },
                    { label: "C", text: "ÂøÖÈ°ªÁöÑÂêéÂ§ÑÁêÜÊó∂Èó¥", value: "C" },
                    { label: "D", text: "Á©∫ËΩΩËøêË°åÊó∂Èó¥", value: "D" }
                ],
                correct: ["A", "B", "C"]
            },
            {
                id: 3,
                text: "Êú∫Êó∂ËÆ∞ÂΩïÊúâÂì™‰∏§ÁßçËÆ∞ÂΩïÊñπÂºèÔºü",
                type: "multiple",
                options: [
                    { label: "A", text: "‰ΩøÁî®Êú∫Êó∂ËÆ∞ÂΩïÊú¨ËÆ∞ÂΩï", value: "A" },
                    { label: "B", text: "ÈÄöËøáÂ§ßÂûã‰ª™Âô®ËÆæÂ§áÁâ©ËÅîÂÖ±‰∫´Á≥ªÁªüËá™Âä®ËÆ∞ÂΩï", value: "B" }
                ],
                correct: ["A", "B"]
            },
            {
                id: 4,
                text: "ËØæÈ¢òÁªÑÊâøÊãÖÁöÑÊ®™ÂêëÈ°πÁõÆÁöÑÊú∫Êó∂Â±û‰∫éÁ§æ‰ºöÊúçÂä°Êú∫Êó∂ÂêóÔºü",
                type: "single",
                options: [
                    { label: "A", text: "Â±û‰∫éÔºåÂ∫îÂú®ËÆ∞ÂΩïÊú¨ÊàñÁ≥ªÁªü‰∏≠ÂÅöÂ•ΩÊ†áËØÜ„ÄÇ", value: "A" },
                    { label: "B", text: "‰∏çÂ±û‰∫é„ÄÇ", value: "B" }
                ],
                correct: ["A"]
            },
            {
                id: 5,
                text: "ÂºÄÊîæÂÖ±‰∫´ÈúÄË¶ÅÊèê‰∫§Âì™‰∏âÂº†Áî≥ËØ∑Ë°®Ôºü",
                type: "multiple",
                options: [
                    { label: "A", text: "Âä†ÂÖ•ÂÖ¨ÂÖ±Âπ≥Âè∞Áî≥ËØ∑Ë°®", value: "A" },
                    { label: "B", text: "Êî∂Ë¥πÊ†áÂáÜÂÆ°ÊâπË°®", value: "B" },
                    { label: "C", text: "Êé•ÂÖ•Áâ©ËÅîÁ≥ªÁªüÁî≥ËØ∑Ë°®", value: "C" },
                    { label: "D", text: "ÂºÄÊîæÂÖ±‰∫´Áî≥ËØ∑Ë°®", value: "D" }
                ],
                correct: ["A", "B", "C"]
            },
            {
                id: 6,
                text: "Âà∂ÂÆöÊî∂Ë¥πÊ†áÂáÜÊó∂Â∫îËØ•Ôºü",
                type: "multiple",
                options: [
                    { label: "A", text: "ÊµãÁÆóÊàêÊú¨ÂíåÊîØÂá∫", value: "A" },
                    { label: "B", text: "Ë∞ÉÁ†îÂêåÁ±ªËÆæÂ§áÊî∂Ë¥πÊ†áÂáÜ", value: "B" }
                ],
                correct: ["A", "B"]
            },
            {
                id: 7,
                text: "ÂºÄÊîæÂÖ±‰∫´ÂèØ‰ª•Ëé∑ÂæóÂì™‰∫õÊîØÊåÅÔºü",
                type: "multiple",
                options: [
                    { label: "A", text: "ÂèØËé∑ÂæóÊµãËØïÊúçÂä°Êî∂ÂÖ•„ÄÇ", value: "A" },
                    { label: "B", text: "ÂèØÁî≥ËØ∑Áª¥‰øÆÂü∫ÈáëÂèäËøêË°•Âü∫Èáë„ÄÇ", value: "B" },
                    { label: "C", text: "ÂèÇ‰∏éËÄÉÊ†∏ËØÑ‰ª∑Ëé∑ÂæóÂ•ñÂä±Ë°•Âä©„ÄÇ", value: "C" },
                    { label: "D", text: "ÂèØÊîØÊíëÂÆûÈ™åÂÆ§ÊäÄÊúØ‰∫∫ÂëòËÅåÁ∫ßÊôãÂçá", value: "D" }
                ],
                correct: ["A", "B", "C", "D"]
            },
            {
                id: 8,
                text: "‰∏ãÂàóÂì™‰∫õÂÖ≥‰∫éÁª¥‰øÆÂü∫ÈáëÁöÑÊèèËø∞ÊòØÊ≠£Á°ÆÁöÑÔºü",
                type: "multiple",
                options: [
                    { label: "A", text: "Âçï‰ª∑40‰∏áÂÖÉÊ†°ÂÜÖÊïôÂ≠¶ÁßëÁ†îÁî®ËÆæÂ§áÂèØÁî≥ËØ∑„ÄÇ", value: "A" },
                    { label: "B", text: "ÊØèÂ≠£Â∫¶Áî≥ËØ∑‰∏ÄÊ¨°„ÄÇ", value: "B" },
                    { label: "C", text: "ÈúÄËá™Á≠πÈÖçÂ•ó„ÄÇ", value: "C" },
                    { label: "D", text: "Êú¨Âπ¥Â∫¶È°πÁõÆÂ∫îÂΩìÂπ¥ÊâßË°åÂÆåÊØï", value: "D" }
                ],
                correct: ["A", "B", "C", "D"]
            },
            {
                id: 9,
                text: "‰∏ãÂàóÂì™‰∫õÂÖ≥‰∫éËøêË°•Âü∫ÈáëÁöÑÊèèËø∞ÊòØÊ≠£Á°ÆÁöÑÔºü",
                type: "multiple",
                options: [
                    { label: "A", text: "ÊàëÊ†°45Â≤Å‰ª•‰∏ãÂú®ËÅåÂú®Â≤óÊïôÂ≠¶ÁßëÁ†î‰∫∫ÂëòÂèØÁî≥ËØ∑„ÄÇ", value: "A" },
                    { label: "B", text: "‰ΩøÁî®Â§ß‰ª™Á≥ªÁªü‰∏≠ÁöÑ‰ª™Âô®ËÆæÂ§áÂèØÊäµÊâ£ÊµãËØïË¥π„ÄÇ", value: "B" },
                    { label: "C", text: "ÈúÄËá™Á≠πÈÖçÂ•ó„ÄÇ", value: "C" },
                    { label: "D", text: "Êú¨Âπ¥Â∫¶È°πÁõÆÂ∫îÂΩìÂπ¥ÊâßË°åÂÆåÊØï", value: "D" }
                ],
                correct: ["A", "B", "C", "D"]
            },
            {
                id: 10,
                text: "‰∏ãÂàóÂì™‰∫õÁΩëÁ´ôÂèØ‰ª•Ëé∑ÂèñÂºÄÊîæÂÖ±‰∫´Áõ∏ÂÖ≥Êñá‰ª∂ÂíåÊµÅÁ®ãÔºü",
                type: "multiple",
                options: [
                    { label: "A", text: "Â§ßÂûã‰ª™Âô®ËÆæÂ§áÁâ©ËÅîÁ≥ªÁªüÔºöwww.equip.xjtu.edu.cn", value: "A" },
                    { label: "B", text: "ÂÆûÈ™åÂÆ§ÁÆ°ÁêÜÂ§ÑÂÆòÁΩëÔºöwww.dpm.xjtu.edu.cn", value: "B" }
                ],
                correct: ["A", "B"]
            }
        ];

        // ÂÖ®Â±ÄÂèòÈáè
        let currentQuestion = 0;
        let userAnswers = {};
        let examStartTime = null;
        let timerInterval = null;
        let timeLimit = 30 * 60; // 30ÂàÜÈíü
        let userInfo = {}; // ‰øùÂ≠òÁî®Êà∑‰ø°ÊÅØ

        // ÂºÄÂßãËÄÉËØï
        function startExam() {
            const name = document.getElementById('studentName').value.trim();
            const studentId = document.getElementById('studentId').value.trim();
            const department = document.getElementById('department').value.trim();
            const examType = document.getElementById('examType').value;

            if (!name || !studentId || !department) {
                alert('ËØ∑Â°´ÂÜôÂÆåÊï¥ÁöÑËÄÉÁîü‰ø°ÊÅØÔºÅ');
                return;
            }

            // ‰øùÂ≠òÁî®Êà∑‰ø°ÊÅØ
            userInfo = {
                name: name,
                studentId: studentId,
                department: department,
                examType: examType,
                startTime: new Date()
            };

            // ÈöêËóèÁî®Êà∑‰ø°ÊÅØÂå∫ÂüüÔºåÊòæÁ§∫ËÄÉËØïÂå∫Âüü
            document.getElementById('userInfoSection').style.display = 'none';
            document.getElementById('examSection').style.display = 'block';
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('timer').style.display = 'block';

            // ÂàùÂßãÂåñËÄÉËØï
            examStartTime = new Date();
            currentQuestion = 0;
            userAnswers = {};
            
            // Ê∏≤ÊüìÈ¢òÁõÆ
            renderQuestions();
            updateProgress();
            startTimer();
        }

        // Ê∏≤ÊüìÊâÄÊúâÈ¢òÁõÆ
        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';

            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-card fade-in';
                questionDiv.style.display = index === 0 ? 'block' : 'none';
                questionDiv.innerHTML = `
                    <div class="question-header">
                        <div class="question-number">${question.id}</div>
                        <div class="question-text">${question.text}</div>
                        <div class="question-type">${question.type === 'single' ? 'ÂçïÈÄâÈ¢ò' : 'Â§öÈÄâÈ¢ò'}</div>
                    </div>
                    <div class="options" id="options-${question.id}">
                        ${question.options.map(option => `
                            <div class="option" onclick="selectOption(${question.id}, '${option.value}', '${question.type}')">
                                <input type="${question.type === 'single' ? 'radio' : 'checkbox'}" 
                                       name="question-${question.id}" 
                                       value="${option.value}" 
                                       id="option-${question.id}-${option.value}">
                                <label for="option-${question.id}-${option.value}">
                                    <strong>${option.label}.</strong> ${option.text}
                                </label>
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionDiv);
            });
        }

        // ÈÄâÊã©Á≠îÊ°à
        function selectOption(questionId, value, type) {
            if (type === 'single') {
                userAnswers[questionId] = [value];
                // Êõ¥Êñ∞UI
                const options = document.querySelectorAll(`#options-${questionId} .option`);
                options.forEach(option => {
                    option.classList.remove('selected');
                    const input = option.querySelector('input');
                    input.checked = false;
                });
                
                const selectedOption = document.querySelector(`#option-${questionId}-${value}`);
                selectedOption.checked = true;
                selectedOption.closest('.option').classList.add('selected');
            } else {
                if (!userAnswers[questionId]) {
                    userAnswers[questionId] = [];
                }
                
                const checkbox = document.querySelector(`#option-${questionId}-${value}`);
                const optionDiv = checkbox.closest('.option');
                
                // Ê£ÄÊü•ÂΩìÂâçÂÄºÊòØÂê¶Â∑≤Âú®Áî®Êà∑Á≠îÊ°à‰∏≠
                const currentIndex = userAnswers[questionId].indexOf(value);
                
                if (currentIndex > -1) {
                    // ÂΩìÂâçÂ∑≤ÈÄâ‰∏≠ÔºåÂèñÊ∂àÈÄâÊã©
                    checkbox.checked = false;
                    optionDiv.classList.remove('selected');
                    userAnswers[questionId].splice(currentIndex, 1);
                } else {
                    // ÂΩìÂâçÊú™ÈÄâ‰∏≠ÔºåÊ∑ªÂä†ÈÄâÊã©
                    checkbox.checked = true;
                    optionDiv.classList.add('selected');
                    userAnswers[questionId].push(value);
                }
            }
            updateProgress();
        }

        // ‰∏ã‰∏ÄÈ¢ò
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                // ÈöêËóèÂΩìÂâçÈ¢òÁõÆ
                document.querySelectorAll('.question-card')[currentQuestion].style.display = 'none';
                
                currentQuestion++;
                
                // ÊòæÁ§∫‰∏ã‰∏ÄÈ¢ò
                document.querySelectorAll('.question-card')[currentQuestion].style.display = 'block';
                
                updateNavigationButtons();
                updateProgress();
            }
        }

        // ‰∏ä‰∏ÄÈ¢ò
        function previousQuestion() {
            if (currentQuestion > 0) {
                // ÈöêËóèÂΩìÂâçÈ¢òÁõÆ
                document.querySelectorAll('.question-card')[currentQuestion].style.display = 'none';
                
                currentQuestion--;
                
                // ÊòæÁ§∫‰∏ä‰∏ÄÈ¢ò
                document.querySelectorAll('.question-card')[currentQuestion].style.display = 'block';
                
                updateNavigationButtons();
                updateProgress();
            }
        }

        // Êõ¥Êñ∞ÂØºËà™ÊåâÈíÆ
        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');

            prevBtn.disabled = currentQuestion === 0;
            
            if (currentQuestion === questions.length - 1) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'block';
            } else {
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
            }
        }

        // Êõ¥Êñ∞ËøõÂ∫¶
        function updateProgress() {
            const answeredCount = Object.keys(userAnswers).length;
            const progress = (answeredCount / questions.length) * 100;
            
            document.getElementById('progressText').textContent = `${answeredCount}/${questions.length}`;
            document.getElementById('progressFill').style.width = `${progress}%`;
        }

        // ÂºÄÂßãËÆ°Êó∂Âô®
        function startTimer() {
            timerInterval = setInterval(() => {
                const elapsed = Math.floor((new Date() - examStartTime) / 1000);
                const remaining = timeLimit - elapsed;
                
                if (remaining <= 0) {
                    clearInterval(timerInterval);
                    alert('ËÄÉËØïÊó∂Èó¥Â∑≤Âà∞ÔºåÁ≥ªÁªüÂ∞ÜËá™Âä®Êèê‰∫§ÔºÅ');
                    submitExam();
                    return;
                }
                
                const minutes = Math.floor(remaining / 60);
                const seconds = remaining % 60;
                const timerElement = document.getElementById('timer');
                
                timerElement.textContent = `‚è∞ ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Êó∂Èó¥Ë≠¶Âëä
                if (remaining <= 300) { // 5ÂàÜÈíü
                    timerElement.className = 'timer danger';
                } else if (remaining <= 600) { // 10ÂàÜÈíü
                    timerElement.className = 'timer warning';
                }
            }, 1000);
        }

        // Êèê‰∫§ËÄÉËØï
        function submitExam() {
            if (Object.keys(userAnswers).length < questions.length) {
                if (!confirm('ÊÇ®ËøòÊúâÊú™ÂÆåÊàêÁöÑÈ¢òÁõÆÔºåÁ°ÆÂÆöË¶ÅÊèê‰∫§ÂêóÔºü')) {
                    return;
                }
            }

            clearInterval(timerInterval);
            
            // ËÆ°ÁÆóÊàêÁª©
            let correctCount = 0;
            
            console.log('=== ÂºÄÂßãËÆ°ÂàÜ ===');
            
            questions.forEach(question => {
                const userAnswer = userAnswers[question.id] || [];
                const correctAnswer = question.correct;
                
                // ÊéíÂ∫èÂêéÊØîËæÉ
                const userSorted = [...userAnswer].sort();
                const correctSorted = [...correctAnswer].sort();
                
                const isCorrect = JSON.stringify(userSorted) === JSON.stringify(correctSorted);
                
                console.log(`È¢òÁõÆ${question.id}:`);
                console.log(`  Áî®Êà∑Á≠îÊ°à: [${userSorted.join(', ')}]`);
                console.log(`  Ê≠£Á°ÆÁ≠îÊ°à: [${correctSorted.join(', ')}]`);
                console.log(`  ÊòØÂê¶Ê≠£Á°Æ: ${isCorrect}`);
                
                if (isCorrect) {
                    correctCount++;
                }
            });

            console.log(`=== ËÆ°ÂàÜÁªìÊùüÔºåÊ≠£Á°ÆÈ¢òÊï∞Ôºö${correctCount}/${questions.length} ===`);

            const score = Math.round((correctCount / questions.length) * 100);
            
            // ÊòæÁ§∫ÁªìÊûú
            showResults(score, correctCount);
        }

        // ÊòæÁ§∫ÁªìÊûú
        function showResults(score, correctCount) {
            document.getElementById('examSection').style.display = 'none';
            document.getElementById('resultsSection').style.display = 'block';
            document.getElementById('timer').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'none';

            // Â°´ÂÖÖÁî®Êà∑‰ø°ÊÅØ
            document.getElementById('resultName').textContent = userInfo.name;
            document.getElementById('resultStudentId').textContent = userInfo.studentId;
            document.getElementById('resultDepartment').textContent = userInfo.department;
            document.getElementById('resultExamType').textContent = userInfo.examType;
            
            // ËÆ°ÁÆóÁî®Êó∂
            const endTime = new Date();
            const duration = Math.floor((endTime - userInfo.startTime) / 1000);
            const minutes = Math.floor(duration / 60);
            const seconds = duration % 60;
            const durationText = `${minutes}ÂàÜ${seconds}Áßí`;
            
            // Ê†ºÂºèÂåñÊó•Êúü
            const dateText = userInfo.startTime.toLocaleString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            // Á°ÆÂÆöÁä∂ÊÄÅ
            let status = '';
            let statusColor = '';
            if (score >= 80) {
                status = 'ÈÄöËøá ‚úÖ';
                statusColor = '#28a745';
            } else if (score >= 60) {
                status = 'ÂèäÊ†º ‚ö†Ô∏è';
                statusColor = '#ffc107';
            } else {
                status = 'Êú™ÈÄöËøá ‚ùå';
                statusColor = '#dc3545';
            }
            
            document.getElementById('resultDate').textContent = dateText;
            document.getElementById('resultDuration').textContent = durationText;
            document.getElementById('resultStatus').textContent = status;
            document.getElementById('resultStatus').style.color = statusColor;

            // ËÆæÁΩÆÂàÜÊï∞ÂúÜÂúàÊ†∑Âºè
            const scoreCircle = document.getElementById('scoreCircle');
            if (score >= 80) {
                scoreCircle.className = 'score-circle score-excellent';
            } else if (score >= 60) {
                scoreCircle.className = 'score-circle score-good';
            } else {
                scoreCircle.className = 'score-circle score-poor';
            }

            // Â°´ÂÖÖÁªìÊûúÊï∞ÊçÆ
            document.getElementById('scoreText').textContent = `${score}%`;
            document.getElementById('correctAnswers').textContent = correctCount;
            document.getElementById('wrongAnswers').textContent = questions.length - correctCount;
            document.getElementById('finalScore').textContent = `${score}%`;

            // ËÆæÁΩÆÁªìÊûúÊ∂àÊÅØ
            let resultMessage = '';
            if (score >= 90) {
                resultMessage = 'üéâ ‰ºòÁßÄÔºÅÊÇ®ÂØπÂ§ßÂûã‰ª™Âô®ËÆæÂ§áÁÆ°ÁêÜÂà∂Â∫¶ÊúâÂæàÂ•ΩÁöÑÊéåÊè°ÔºÅ';
            } else if (score >= 80) {
                resultMessage = 'üëç ËâØÂ•ΩÔºÅÊÇ®Âü∫Êú¨ÊéåÊè°‰∫ÜÁõ∏ÂÖ≥ÁÆ°ÁêÜÂà∂Â∫¶ÔºÅ';
            } else if (score >= 60) {
                resultMessage = 'üìö ÂèäÊ†ºÔºÅÂª∫ËÆÆËøõ‰∏ÄÊ≠•Â≠¶‰π†Áõ∏ÂÖ≥Âà∂Â∫¶Êñá‰ª∂ÔºÅ';
            } else {
                resultMessage = 'üí™ ÈúÄË¶ÅÂä†Âº∫Â≠¶‰π†ÔºåÂª∫ËÆÆÈáçÊñ∞ÈòÖËØªÁõ∏ÂÖ≥ÁÆ°ÁêÜÂà∂Â∫¶ÔºÅ';
            }
            
            document.getElementById('resultMessage').textContent = resultMessage;
        }

        // ÈáçÊñ∞ÂºÄÂßãËÄÉËØï
        function restartExam() {
            document.getElementById('resultsSection').style.display = 'none';
            document.getElementById('userInfoSection').style.display = 'block';
            
            // ÈáçÁΩÆÊâÄÊúâÁä∂ÊÄÅ
            currentQuestion = 0;
            userAnswers = {};
            examStartTime = null;
            userInfo = {}; // ÈáçÁΩÆÁî®Êà∑‰ø°ÊÅØ
            
            // Ê∏ÖÁ©∫Áî®Êà∑‰ø°ÊÅØ
            document.getElementById('studentName').value = '';
            document.getElementById('studentId').value = '';
            document.getElementById('department').value = '';
            document.getElementById('examType').value = 'Ê≠£ÂºèËÄÉËØï';
            
            // ÈáçÁΩÆÊâÄÊúâÈÄâÈ°π
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
                const input = option.querySelector('input');
                if (input) input.checked = false;
            });
        }

        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÁöÑÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            updateNavigationButtons();
        });
    </script>
</body>
</html> 